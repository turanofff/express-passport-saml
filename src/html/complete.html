<script>
    const getUrlParam = (param) => new URL(window.location).searchParams.get(param);
    const auth_code = getUrlParam('auth_code');
    const state = getUrlParam('state');
    const frontend = getUrlParam('frontend');
    const samlRoute = getUrlParam('saml');

    if (window.opener == null) window.location = `${frontend}/${samlRoute}?auth_code=${auth_code}&state=${state}`;

    window.opener.postMessage({
        auth_code,
        state
    }, frontend);
    window.close();
</script>